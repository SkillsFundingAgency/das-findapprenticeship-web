@model SFA.DAS.FAA.Web.Models.Apply.AddQualificationViewModel

   <div  data-extra-field-rows="true" data-add-button-text="Add another subject">
   <fieldset class="govuk-fieldset faa-extra-fields__fieldset">
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">@(Model.QualificationDisplayTypeViewModel.SubjectLabel ?? "Add subjects")</legend>
      @for (var index = 0; index < 10; index++)
      {
         if(index < Model.Subjects.Count)
         {
            var subject = Model.Subjects[index];
            
               <div class="govuk-grid-row faa-grid-row--flex-from-tablet faa-extra-fields__form-group">
               <input type="hidden" id="subjects[@index][id]" value="@subject.Id" name="subjects[@index][id]">
               <div class="govuk-form-group" das-highlight-error-for="Subjects[index].Name" error-class="govuk-form-group--error">
                  <div class="govuk-grid-column-one-third">
                     <div class="govuk-form-group">
                        <label class="govuk-label" for="subjects[@index][name]">
                           Subject
                        </label>
                        <span das-validation-for="Subjects[index].Name" class="govuk-error-message"></span>
                        <input class="govuk-input" id="subjects[@index][name]" name="subjects[@index][name]" type="text" value="@subject.Name">
                     </div>
                  </div>
               </div>
               <div class="govuk-form-group" das-highlight-error-for="Subjects[index].Grade" error-class="govuk-form-group--error">
                  <div class="govuk-grid-column-one-quarter">
                     <div class="govuk-form-group">
                        <label class="govuk-label" for="subjects[@index][grade]">
                           Grade
                        </label>
                        <span das-validation-for="Subjects[index].Grade" class="govuk-error-message"></span>
                        <input class="govuk-input" id="subjects[@index][grade]" name="subjects[@index][grade]" type="text" value="@subject.Grade">
                     </div>
                  </div>
               </div>
               <div class="govuk-grid-column-one-third">
                  <div class="govuk-form-group">
                     @if (Model.QualificationDisplayTypeViewModel.CanShowPredicted)
                     {
                        <div class="govuk-checkboxes govuk-!-margin-top-5" data-module="govuk-checkboxes">
                           <div class="govuk-checkboxes__item">
                              <input class="govuk-checkboxes__input" id="subjects[@index][IsPredicted]" name="subjects[@index][IsPredicted]" @(subject.IsPredicted.HasValue && subject.IsPredicted.Value ?"checked='checked'":"") type="checkbox" value="true">
                              <label class="govuk-label govuk-checkboxes__label" for="subjects[@index][IsPredicted]">
                                 Predicted grade
                              </label>
                           </div>
                        </div>
                     }
                  </div>
               </div>
            </div>
            
         } else {
            <div class="govuk-grid-row faa-grid-row--flex-from-tablet faa-extra-fields__form-group">
               <div class="govuk-grid-column-one-third">
                  <div class="govuk-form-group">
                     <label class="govuk-label" for="subjects[@index][name]">
                        Subject
                     </label>
                     
                     <input class="govuk-input" id="subjects[@index][name]" name="subjects[@index][name]" type="text">
                  </div>
               </div>
               <div class="govuk-grid-column-one-quarter">
                  <div class="govuk-form-group">
                     <label class="govuk-label" for="subjects[@index][grade]">
                        Grade
                     </label>
                     <input class="govuk-input" id="subjects[@index][grade]" name="subjects[@index][grade]" type="text">
                  </div>
               </div>
               <div class="govuk-grid-column-one-third">
                  <div class="govuk-form-group">
                     @if (Model.QualificationDisplayTypeViewModel.CanShowPredicted)
                     {
                        <div class="govuk-checkboxes govuk-!-margin-top-5" data-module="govuk-checkboxes">
                           <div class="govuk-checkboxes__item">
                              <input class="govuk-checkboxes__input" id="subjects[@index][IsPredicted]" name="subjects[@index][IsPredicted]" type="checkbox" value="true">
                              <label class="govuk-label govuk-checkboxes__label" for="subjects[@index][IsPredicted]">
                                 Predicted grade
                              </label>
                           </div>
                        </div>
                     }
                  </div>
               </div>
            </div>
         }
      }
   </fieldset>
</div>
