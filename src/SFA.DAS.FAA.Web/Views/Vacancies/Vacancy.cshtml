@using Microsoft.AspNetCore.Mvc.TagHelpers
@using SFA.DAS.FAA.Web.Infrastructure
@model SFA.DAS.FAA.Web.Models.Vacancy.VacancyDetailsViewModel

@if (Model.ShowAccountCreatedBanner)
{
    <partial name="_AccountCreatedBanner" />
}
@if (Model.IsClosed)
{
    <partial name="_ClosedVacancy" model="Model" />
}
else
{
    @section BackLink {
        <div class="faa-js-back-link-history">
            <a class="govuk-back-link" asp-route="@RouteNames.SearchResults">Back</a>
        </div>
    }
    <partial name="_LiveVacancy" model="Model"/>
}

@section AfterJSScripts {
    <script>
        const directionsForm = document.getElementById('faa-directions-form')
        const directionsMap = document.getElementById('faa-directions-map')

        if (directionsForm && directionsMap) {
            new FaaMapDirections("@Model.GoogleMapsId", @Model.Longitude, @Model.Latitude, "@Model.WorkLocation.Postcode", directionsForm, directionsMap).init()
        }
    </script>
}